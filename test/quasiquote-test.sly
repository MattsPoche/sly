(require "sly-lib/list.sly")
(require "sly-lib/quasiquote.sly")

(displayln `foo)
(displayln `(foo bar))
(displayln `(foo ,(+ 69 420) baz))
(displayln `(foo (a b c) baz bang))
(displayln `(foo ,@(list 'a 'b 'c) baz bang))

(displayln #`foo)
(displayln #`(foo bar))
(displayln #`(foo #,(+ 69 420) baz))
(displayln #`(foo (a b c) baz bang))
(displayln #`(foo #,@(list #'a #'b #'c) baz bang))
(displayln #'(a b c))

(define name 'bob)

(displayln `(,name))
(displayln `(69 ,name))
(displayln `(,name ,@(list 1 2 3 4)))

(define bindings '((a 69)(b 32)))
(define bodies '((+ 1 2)(- a b)))
(displayln `((lambda ,(map car bindings) ,@bodies) ,@(map cadr bindings)))
(displayln `((lambda ()
			   (define (,name ,@(map car bindings))
				 ,@bodies)
			   (,name ,@(map cadr bindings)))))
(displayln #`((lambda #,(map car bindings) #,@bodies) #,@(map cadr bindings)))
(displayln #`((lambda ()
				(define (#,name #,@(map car bindings))
				  #,@(map cadr bindings))
				(#,name #,@(map cadr bindings)))))
